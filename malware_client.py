import socket
from command_procces import*
from clear_output import close_proccess
import time
HOST = "127.0.1.1"  # The server's hostname or IP address
PORT = 65435 # The port used by the server

FORMAT = 'UTF-8'


with socket.socket(socket.AF_INET, socket.SOCK_STREAM) as s:
    s.connect((HOST, PORT))
    try:
        while True:
            
          
            
            data = s.recv(1024).decode(FORMAT)
            proccess(s,data)
    except KeyboardInterrupt:
         if s:
          s.close()
          print("client socket closed.")# Handle Ctrl+C gracefully
          close_proccess()

    # finally:
    #     if s:
    #         s.close()
    #         print("client socket is closed")
    #         close_proccess()
